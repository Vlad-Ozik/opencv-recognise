<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Opencvrecognition: server Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Opencvrecognition
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespaceserver.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68adc9e8e7af246e47d62ed166b5fc1a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a68adc9e8e7af246e47d62ed166b5fc1a">find_contours</a> (img, i_crop)</td></tr>
<tr class="memdesc:a68adc9e8e7af246e47d62ed166b5fc1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to find the contours of uploaded images.  <a href="namespaceserver.html#a68adc9e8e7af246e47d62ed166b5fc1a">More...</a><br /></td></tr>
<tr class="separator:a68adc9e8e7af246e47d62ed166b5fc1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad7b1f663ab367247a5d9c7dbf30454"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a0ad7b1f663ab367247a5d9c7dbf30454">img_matching</a> (img, i_crop, span=0.028)</td></tr>
<tr class="memdesc:a0ad7b1f663ab367247a5d9c7dbf30454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for finding similar contours.  <a href="namespaceserver.html#a0ad7b1f663ab367247a5d9c7dbf30454">More...</a><br /></td></tr>
<tr class="separator:a0ad7b1f663ab367247a5d9c7dbf30454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f89faa2c3d50beabcc41ccc769663a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#aa5f89faa2c3d50beabcc41ccc769663a">img_matching_alternative</a> (img, i_crop, comp_factor=0.1)</td></tr>
<tr class="memdesc:aa5f89faa2c3d50beabcc41ccc769663a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alternative function for finding similar contours.  <a href="namespaceserver.html#aa5f89faa2c3d50beabcc41ccc769663a">More...</a><br /></td></tr>
<tr class="separator:aa5f89faa2c3d50beabcc41ccc769663a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807bf907ed6c6906f2a06eb3bffa034e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a807bf907ed6c6906f2a06eb3bffa034e">generate</a> ()</td></tr>
<tr class="memdesc:a807bf907ed6c6906f2a06eb3bffa034e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function generator.  <a href="namespaceserver.html#a807bf907ed6c6906f2a06eb3bffa034e">More...</a><br /></td></tr>
<tr class="separator:a807bf907ed6c6906f2a06eb3bffa034e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c6991e06b0b51c3f0c362c07224eaa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#ac0c6991e06b0b51c3f0c362c07224eaa">index</a> ()</td></tr>
<tr class="memdesc:ac0c6991e06b0b51c3f0c362c07224eaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function accepting requests from the client application.  <a href="namespaceserver.html#ac0c6991e06b0b51c3f0c362c07224eaa">More...</a><br /></td></tr>
<tr class="separator:ac0c6991e06b0b51c3f0c362c07224eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0cd97543f4ed0425bb25502f8b4c8371"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a0cd97543f4ed0425bb25502f8b4c8371">outputFrame</a> = None</td></tr>
<tr class="memdesc:a0cd97543f4ed0425bb25502f8b4c8371"><td class="mdescLeft">&#160;</td><td class="mdescRight">A variable that contains an image.  <a href="namespaceserver.html#a0cd97543f4ed0425bb25502f8b4c8371">More...</a><br /></td></tr>
<tr class="separator:a0cd97543f4ed0425bb25502f8b4c8371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b662fe6ae53fbcd5a505235805d788"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#af1b662fe6ae53fbcd5a505235805d788">lock</a> = threading.Lock()</td></tr>
<tr class="memdesc:af1b662fe6ae53fbcd5a505235805d788"><td class="mdescLeft">&#160;</td><td class="mdescRight">thread  <a href="namespaceserver.html#af1b662fe6ae53fbcd5a505235805d788">More...</a><br /></td></tr>
<tr class="separator:af1b662fe6ae53fbcd5a505235805d788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe63fea7be31b0200b496d08bc6b517d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#afe63fea7be31b0200b496d08bc6b517d">app</a> = Flask(__name__)</td></tr>
<tr class="separator:afe63fea7be31b0200b496d08bc6b517d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>It receives data (images) from the client and finds on them contours similar to the contours of a given image </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a68adc9e8e7af246e47d62ed166b5fc1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68adc9e8e7af246e47d62ed166b5fc1a">&#9670;&nbsp;</a></span>find_contours()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.find_contours </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_crop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to find the contours of uploaded images. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>image sent to the server </td></tr>
    <tr><td class="paramname">i_crop</td><td>image whose contour will be searched </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cnts, cnts_crop - contours of img and i_crop images respectively</dd></dl>
<p>To find the contours, the following actions are performed:</p><ul>
<li>make img b/w, i_crop is already b/w</li>
<li>blur image</li>
<li>detect edges of objects in the image</li>
<li>make a morphological transformation</li>
<li>find the contour </li>
</ul>

</div>
</div>
<a id="a807bf907ed6c6906f2a06eb3bffa034e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807bf907ed6c6906f2a06eb3bffa034e">&#9670;&nbsp;</a></span>generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.generate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function generator. </p>
<dl class="section return"><dt>Returns</dt><dd>string string with an inserted image for output in HTML format</dd></dl>
<p>In a function, an image is read in a separate stream, the contour of which will be searched, after which one of the two functions is used to search for similar contours. The resulting final image is converted to jpg format and sent </p>

</div>
</div>
<a id="a0ad7b1f663ab367247a5d9c7dbf30454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad7b1f663ab367247a5d9c7dbf30454">&#9670;&nbsp;</a></span>img_matching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.img_matching </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_crop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>span</em> = <code>0.028</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for finding similar contours. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>image that was sent to the server </td></tr>
    <tr><td class="paramname">i_crop</td><td>image whose contour will be searched </td></tr>
    <tr><td class="paramname">span</td><td>everything from -span to span is a similar outline </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>img final image with a similar outline highlighted, if any</dd></dl>
<p>To find similar contours, the following actions are performed:</p><ul>
<li>find the contours of images using the find_contours function</li>
<li>in the loop find Hu moments of the i_crop image contours and enter them into an array</li>
<li>in a loop, find the xy moments of the contours of the image img and compare them with the xy moments of the contours of the image i_crop, if the difference between them is in the range -span and span, then the contour is applied to img</li>
</ul>
<p>By default, span = 0.028. To find similar contours from a poor quality web camera,this value is the best (it was obtained experimentally). If the images are of good quality, the span parameter can be reduced to reduce the risk of finding dissimilar contours. </p>

</div>
</div>
<a id="aa5f89faa2c3d50beabcc41ccc769663a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f89faa2c3d50beabcc41ccc769663a">&#9670;&nbsp;</a></span>img_matching_alternative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.img_matching_alternative </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_crop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>comp_factor</em> = <code>0.1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alternative function for finding similar contours. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>image that was sent to the server </td></tr>
    <tr><td class="paramname">i_crop</td><td>image whose contour will be searched </td></tr>
    <tr><td class="paramname">comp_factor</td><td>maximum contour similarity indicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>img final image with a similar outline highlighted, if any</dd></dl>
<p>To find similar contours, the following actions are performed:</p><ul>
<li>find the contours of images using the find_contours function</li>
<li>in the loop, the contours are compared using the matchShapes function, which returns an indicator of the similarity of the contours</li>
</ul>
<p>By default, comp_factor=0.1. To find similar contours from a poor quality web camera,this value is the best (it was obtained experimentally). If the images are of good quality, the comp_factor parameter can be reduced to reduce the risk of finding dissimilar contours. </p>

</div>
</div>
<a id="ac0c6991e06b0b51c3f0c362c07224eaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c6991e06b0b51c3f0c362c07224eaa">&#9670;&nbsp;</a></span>index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function accepting requests from the client application. </p>
<dl class="section return"><dt>Returns</dt><dd>string <br  />
</dd></dl>
<p>The function accepts a POST and GET request. If GET, then sends the user a webcast; if POST, then it reads the image and is entered into the global variable </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afe63fea7be31b0200b496d08bc6b517d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe63fea7be31b0200b496d08bc6b517d">&#9670;&nbsp;</a></span>app</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app = Flask(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af1b662fe6ae53fbcd5a505235805d788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b662fe6ae53fbcd5a505235805d788">&#9670;&nbsp;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lock = threading.Lock()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>thread </p>

</div>
</div>
<a id="a0cd97543f4ed0425bb25502f8b4c8371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd97543f4ed0425bb25502f8b4c8371">&#9670;&nbsp;</a></span>outputFrame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">outputFrame = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A variable that contains an image. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceserver.html">server</a></li>
    <li class="footer">Generated on Mon Oct 21 2019 12:00:01 for Opencvrecognition by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
